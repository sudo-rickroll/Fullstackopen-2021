{"version":3,"sources":["components/User.js","components/Users.js","components/Success.js","components/Error.js","components/Notification.js","services/Persons.js","App.js","index.js"],"names":["User","user","handleDelete","name","number","onClick","id","Users","users","onDelete","map","Success","message","style","successMessageStyle","color","success","Error","errorMessageStyle","error","Notification","messageStyle","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseURL","axios","get","then","response","data","catch","newObject","post","delete","updatedObject","put","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","searchedNames","setSearchedNames","notificationMessage","setNotificationMessage","useEffect","service","alert","find","person","filter","setTimeout","onChange","event","target","value","item","toLowerCase","indexOf","onSubmit","preventDefault","personObject","trim","length","window","confirm","type","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e0c7985c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst User = ({user, handleDelete}) => <tr><td>{user.name}</td><td>{user.number}</td><td><button onClick={() =>  handleDelete(user.id)}>Delete</button></td></tr>\r\n\r\nexport default User","import React from 'react'\r\nimport User from './User'\r\n\r\nconst Users = ({users, onDelete}) => <table><tbody>{users.map((user) => <User key={user.id} user={user}  handleDelete={onDelete}/>)}</tbody></table>\r\n\r\nexport default Users","const Success = ({message, style}) => {\r\n    const successMessageStyle ={\r\n        ...style,\r\n        color : 'green'\r\n    }\r\n    if ('success' in message){\r\n        return (\r\n            <div style={successMessageStyle}>\r\n                {message.success}\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nexport default Success","const Error = ({message, style}) => {\r\n    const errorMessageStyle ={\r\n        ...style,\r\n        color : 'red'\r\n    }\r\n    if ('error' in message){\r\n        return (\r\n            <div style={errorMessageStyle}>\r\n                <p>{message.error}</p>                \r\n            </div>\r\n        )\r\n    }\r\n\r\n    return null\r\n}\r\n\r\nexport default Error","import Success from \"./Success\"\r\nimport Error from \"./Error\"\r\n\r\nconst Notification = ({message}) => {\r\n    const messageStyle = {\r\n        color: 'black',\r\n        background: 'lightgrey',\r\n        fontSize: 20,\r\n        borderStyle: 'solid',\r\n        borderRadius: 5,\r\n        padding: 5,\r\n        marginBottom: 10\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Success message={message} style={messageStyle}/>\r\n            <Error message={message} style={messageStyle}/>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Notification","import axios from \"axios\";\r\n\r\nconst baseURL = \"/api/persons\"\r\n\r\nconst getPersons = () => {\r\n    return axios\r\n            .get(baseURL)\r\n            .then(response => response.data)\r\n            .catch(error => error)\r\n}\r\n\r\nconst createPerson = (newObject) => {\r\n    return axios.post(baseURL, newObject).then(response => response.data).catch(error => { throw error })\r\n    }\r\n\r\nconst deletePerson = (id) => {\r\n    return axios.delete(`${baseURL}/${id}`).then(response => response.data).catch(error => { throw error })\r\n}\r\n\r\nconst updatePerson = (id, updatedObject) => {\r\n    return axios.put(`${baseURL}/${id}`, updatedObject).then(response => response.data).catch(error => { throw error })\r\n}\r\n\r\nexport default {\r\n    getPersons,\r\n    createPerson,\r\n    deletePerson,\r\n    updatePerson\r\n}","import React, { useState, useEffect } from 'react'\nimport Users from './components/Users'\nimport Notification from './components/Notification'\nimport service from './services/Persons'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchedNames, setSearchedNames ] = useState([])\n  const [ notificationMessage, setNotificationMessage ] = useState({})\n\n  useEffect(() => {\n    service.getPersons().then(persons => setPersons(persons)).catch(error => alert(\"Could not fetch person details: \", error))\n  }, []      \n  )\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const personObject = {name:newName, number:newNumber}\n    if (persons.filter(item => item.name.toLowerCase().trim() === newName.toLowerCase().trim()).length > 0) {\n      if(window.confirm(`${newName} is already added to phonebook. Do you want to replace it with the current details ?`)){\n        const id = persons.find(item => item.name.toLowerCase().trim() === newName.toLowerCase().trim()).id\n        service.updatePerson(id, personObject).then(() => {\n          service.getPersons().then(persons => {\n            setPersons(persons)\n            setNotificationMessage({success:`${newName} updated successfully`})\n            setTimeout(() => setNotificationMessage({}), 5000)\n          }).catch(error => alert(\"Could not fetch person details: \", error))\n        }).catch(error => {\n          service.getPersons().then(persons => setPersons(persons)).catch(error => alert(\"Could not fetch person details: \", error))\n          setNotificationMessage({error:`Error updating item: ${error.response.data}`})\n          setTimeout(() => setNotificationMessage({}), 5000)\n        })\n      }\n      return\n    }\n    \n    service.createPerson(personObject).then(() => {\n      service.getPersons().then(persons => {\n        setPersons(persons)\n        setNotificationMessage({success:`${newName} created successfully`})\n        setTimeout(() => setNotificationMessage({}), 5000)\n      }).catch(error => alert(\"Could not fetch person details: \", error))\n    }).catch(error => {\n      service.getPersons().then(persons => setPersons(persons)).catch(error => alert(\"Could not fetch person details: \", error))\n      setNotificationMessage({error:`Error creating item : ${error.response.data}`})\n      setTimeout(() => setNotificationMessage({}), 5000)\n    })  \n  }\n\n  const handleDelete = (id) => {\n    const name = persons.find(person => person.id === id).name\n    service.deletePerson(id).then(() => {      \n      setPersons(persons.filter(person => person.id !== id))\n      setSearchedNames(searchedNames.filter(person => person.id !== id))\n      setNotificationMessage({success:`${name} deleted successfully`})\n      setTimeout(() => setNotificationMessage({}), 5000)\n    }).catch(error => {\n      service.getPersons().then(persons => setPersons(persons)).catch(error => alert(\"Could not fetch person details: \", error))\n      setNotificationMessage({error:`${name} has already been deleted`})      \n      setTimeout(() => setNotificationMessage({}), 5000)\n    })\n  }\n\n  const onChangeName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const onChangeNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const searchName = (event) => {\n    if (event.target.value === ''){\n      setSearchedNames([])\n      return\n    }\n    setSearchedNames(persons.filter(item => item.name.toLowerCase().indexOf(event.target.value.toLowerCase()) > -1))\n  }\n\n  return (\n    <div>\n      <div>\n        <h2>Phonebook</h2>\n        <Notification message={notificationMessage} />\n        filter shown with <input onChange={searchName}/>\n        <br /><br />\n      </div>\n      <div>\n        <Users users={searchedNames} onDelete={handleDelete}/>\n      </div>\n      <div>\n        <h2>add a new</h2>\n        <form onSubmit={handleSubmit}>\n          <div>\n            name: <input value={newName} onChange={onChangeName} />\n          </div>\n          <div>\n            number: <input value={newNumber} onChange={onChangeNumber} />\n          </div>\n          <div>\n            <button type=\"submit\">add</button>\n          </div>\n        </form>\n      </div>\n      <div>\n        <h2>Numbers</h2>\n        <Users users={persons} onDelete={handleDelete}/>\n      </div>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}